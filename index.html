<html>
  
<body>
    <script>
      var Loader = function () { }; Loader.prototype = { require: function (t, e) { this.loadCount = 0, this.totalRequired = t.length, this.callback = e; for (var a = 0; a < t.length; a++)this.writeScript(t[a]) }, loaded: function (t) { this.loadCount++, this.loadCount == this.totalRequired && "function" == typeof this.callback && this.callback.call() }, writeScript: function (t) { var e = this, a = document.createElement("script"); a.type = "text/javascript", a.async = !0, a.src = t, a.addEventListener("load", function (t) { e.loaded(t) }, !1), document.getElementsByTagName("head")[0].appendChild(a) } }; var l = new Loader; l.require(["https://analytics.exacti.us/granola.1-0-12.js"], function () {
        window.granola = new Granola();
        granola.init('omaze_miami')
      });
    </script>

  <script>
     !function () {
        var analytics = window.analytics = window.analytics || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {
        analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on"]; analytics.factory = function (t) { return function () { var e = Array.prototype.slice.call(arguments); e.unshift(t); analytics.push(e); return analytics } }; for (var t = 0; t < analytics.methods.length; t++) { var e = analytics.methods[t]; analytics[e] = analytics.factory(e) } analytics.load = function (t, e) { var n = document.createElement("script"); n.type = "text/javascript"; n.async = !0; n.src = "http://localhost:7000/analytics.js"; var a = document.getElementsByTagName("script")[0]; a.parentNode.insertBefore(n, a); analytics._loadOptions = e }; analytics.SNIPPET_VERSION = "4.1.0";
          localStorage.setItem('ex-apiKey', 'testtesteste')
          analytics.load("app");
        analytics.debug();
        analytics.page();
      }
    }();
  </script>

  <div class="firstwrapper">
    <p><a href="#" class="cta1">track</a></p>
    <p><a href="#" class="cta2" data-experiment="cta2">track with data attributes</a></p>
    <p><a href="#" class="cta3">track with params</a></p>
  </div>
  <div class="secondwrapper">
    <p><a href="#" class="cta4">track with data attributes and params</a></p>
  </div>
  <p><a href="#" class="no-wrapper" data-experiment="32">track with data attributes and params</a></p>

  <form class="form">
    <input type="text" name="sometext" value="test"/>
  </form>

</body>

</html>
<script>
  const targets = {
      '.cta1': {
        wrapper: '.firstwrapper',
        title: 'CTA clicked',
        eventName: 'click',
      },
      '.cta2': {
        wrapper: '.firstwrapper',
        title: 'track with data attributes',
        eventName: 'click',
      },
      '.cta3': {
        wrapper: '.firstwrapper',
        title: 'track with data attributes',
        eventName: 'click',
        params: { category: 'interest' }
      },
      '.cta4': {
        wrapper: '.secondwrapper',
        title: 'secondwrapper',
        eventName: 'click',
        params: { category: 'interest' }
      },
      '.no-wrapper': {
        params: { status: 'not-confirmed' },
        method: 'identify',
        formSelector: 'form'
      }
    }
</script>
<!-- granola.trackForm(document.querySelector('.lp-pom-form > form'), 'appointment scheduled') -->
<!-- a[href="/scheduler/ -->

<!-- circa specific -->
<!-- <script type="text/javascript">
  var APPOINTMENT_SCHEDULED = 'Appointment Scheduled';
  var INITIATED_CONVERSION = 'Initiated Conversion';
  granola.trackForm(document.querySelector('.lp-pom-form > form'), APPOINTMENT_SCHEDULED, { status: 'not_confirmed' });
  granola.trackForm(document.querySelector('#appointment-form'), APPOINTMENT_SCHEDULED, { status: 'not_confirmed' });
  granola.trackLinkBySelector('a[href="/scheduler/"', INITIATED_CONVERSION, { category: 'interest' });
  granola.trackLinkBySelector('.cta', INITIATED_CONVERSION, { category: 'interest' });
</script> -->